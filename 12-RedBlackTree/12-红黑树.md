## 红黑树
    1. 红黑树与2-3树
        <1> 算法导论中的红黑树

<img src="../img/12/img01.jpg " width=800px>

        <2> 《算法4》中指出红黑树与2-3树的等价性

        <3> 2-3树
            * 2-3树满足二分搜索树的性质，也就意味着，在2节点中，左子节点比当前节点小，右子节点比当前节点大，在3节点
              中，左子节点比b小，中间子节点在b与c之间，而右子节点比c大，如下图所示

<img src="../img/12/img02.jpg " width=800px>       

            * 2-3树结构如下：

<img src="../img/12/img03.jpg " width=800px>

    2. 2-3树的绝对平衡性
        <1> 2-3树如何维护绝对平衡
            * 与二分搜索树不同的是，在添加元素时，2-3树只会添加元素到叶子结点与叶子节点融合

            * 如果融合的节点是一个叶子节点（2节点），插入6

<img src="../img/12/img04.jpg " width=800px>

            * 如果待融合的节点是一个3节点，插入2，首先会融合成一个4节点，然后分解，如果该融合节点为根节点，就结束了。
              如下图

<img src="../img/12/img05.jpg " width=800px>

            * 如果待融合的节点是一个3-节点，并且它还不是一个根节点（为叶子节点）时，插入4，首先会插入在25中，组成一个
              临时4-节点，然后将245（临时4-节点）拆分成有由3个2-节点组成的叶子结点（此时打破平衡），所以4就会向上融合，
              如下图

<img src="../img/12/img06.jpg " width=800px>

            * 如果4在向上融合时，上面的父节点为3-节点时，那么在融合时又会形成临时4-节点，然后会将468（临时4-节点）拆分
            成有3个2-节点进行连接。如下图

<img src="../img/12/img07.jpg " width=800px>

    3. 红黑树与2-3树的等价性
        <1> 简单的理解就是红黑树是通过将2-3树进行特殊处理后转换而成的

        <2> 在2-3树中3-节点中会有两个数据，那么我们将两个数据中左边的那个数据作为右边数据的子树，在红黑树中，利用红色
            进行连接与标记。如下图
        
<img src="../img/12/img08.jpg " width=800px>

    4. 红黑树的基本性质以及复杂度分析 
        <1> 性质
            * 每个节点要么是红色的，要么是黑色的

            * 红黑树的根节点一定是黑色的。这是因为在2-3树中，以根节点为2-节点时一定是黑色的，而根节点为3-节点时，我们将左
              边数据作为右边数据的子节点，那么相对而言，根节点也是黑色的。如下图

<img src="../img/12/img09.jpg " width=800px>

            * 每一个叶子节点（最后的空节点）是黑色的（这里的叶子节点并不是指左右子树都为空的那个节点）
            
            * 如果一个节点是红色的，那么它的孩子节点都是黑色的
                * 在2-3树中，如果父节点为2-节点，那么在红黑树中它的子节点一定是黑色的，如果父节点为3-节点，那么它的左孩子
                  和中间孩子要么是2-节点，要么是3-节点，而2-节点在红黑树中对应为黑色的。如果是3-节点的话，那么它红黑树表现
                  与第二个性质一样，（会将左边作为右边的孩子，而右边一定是黑色的）故3-节点也是黑色的

            * 从任意一个节点到叶子节点，经过的黑色节点都是一样的
                * 这是因为2-3树是绝对平衡树，所以他们到叶子节点的高度都是一样的，也就是说黑色节点的个数是取一样的

        <2> 注意：
            * 红黑树是保持“黑平衡”的二叉树，这是因为从根节点到叶子节点经过的黑色节点的个数是一样的

            * 严格意义上讲，红黑树不是一棵平衡二叉树

            
        <3> 时间复杂度
            * 红黑树最大高度为2logn，这是因为在最特殊的情况，2-3树最左边的检点收拾3-节点，那么就是有2倍的节点（包括一个黑
              节点和一个红节点），也就是说时间复杂度为O(logn)

            * 红黑树与AVL树对比：
                在添加和删除操作方面，时间复杂度比较优秀（相对于AVL树），但是在查询方面，AVL树的时间复杂度优秀一些，这是因为
                红黑树的高度可能比AVL树高

    5. 保持根节点为黑色和左旋转
        <1> 红黑树中添加一个新元素（在2-3树中的2-节点添加）

<img src="../img/12/img10.jpg " width=800px>

            * 值得注意的是，在我们第一次添加元素的时候，需要将该添加元素变为相应的黑色节点，从而组成一个只有一个黑色节点的
              红黑树（也就是说需要做到将根节点保持为黑色节点）

            * 如果添加的元素（红色）在根节点的左侧那么就是满足红黑树的性质的，如果在左侧那么就会打破红黑树的性质如下图

<img src="../img/12/img11.jpg " width=800px>

<img src="../img/12/img12.jpg " width=800px>

            * 此时，如果新添加的元素在根节点的右侧，那么我们就需要进行一下左旋转，需要注意的是在进行左旋转之后我们需要维护红黑
              树的颜色（让该树符合红黑树的性质）左旋转如下图

<img src="../img/12/img13.jpg " width=800px>

            * 查看上图，我们需要明白的一个问题是：如果node.color的颜色为red，那么x.color也就是red，而在旋转后，node.color
              也为red，那么就出现了两个节点都为red的情况，这个问题暂时不理会，左旋转的目的是在维护红黑树的情况下，让其节点保
              持着2-3树的3-节点

    6. 颜色翻转与右旋转
        <1> 红黑树中添加一个新元素（在2-3树中的3-节点添加）颜色翻转（添加的元素在根节点的右边）

            * 在添加一个元素之后，我们可以将该节点看作2-3树中的临时的4-节点，那么在2-3树中就需要将4-节点拆分成3个2-节点组成
              的树结构。而在红黑树中，就相当于3个节点都是黑色节点

            * 接下来对于拆分的3个2-节点的树结构，需要将其向上融合，就红黑树而言也就是说根节点需要变为红色的节点

<img src="../img/12/img17.jpg " width=800px>
<img src="../img/12/img14.jpg " width=800px>

        <2> 红黑树中添加一个新元素（在2-3树中的3-节点添加）右旋转（添加的元素在根节点的左边）

<img src="../img/12/img18.jpg " width=800px>
<img src="../img/12/img15.jpg " width=800px>

            * 如上图所示，当我们进行完右旋转之后，12,37,42三个节点依然是融合在一起的（在2-3树中是临时的4-节点），所以在右旋转
              之后，依然需要进行颜色的翻转

    7. 红黑树中添加元素
        <1> 在前面一节，我们学习了2种添加元素的情况，接下来我们学习第三种情况，如下图

<img src="../img/12/img16.jpg " width=800px>

              * 如果需要解决上述中的情况，那么我们只需要依次进行左旋转，右旋转。颜色翻转即可达到效果

        <2> 添加元素的总结（从复杂向简单开始）
            * 第一种情况（依次执行下列步骤即可）

<img src="../img/12/img19.jpg " width=800px>

            * 第二种情况（字节跳到第三步即可）

<img src="../img/12/img20.jpg " width=800px>

            * 第三种情况（字节跳到第四步即可）

<img src="../img/12/img21.jpg " width=800px>

    8. 红黑树的性能总结

<img src="../img/12/img22.jpg " width=800px>

